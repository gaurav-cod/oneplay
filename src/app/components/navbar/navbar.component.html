<nav class="navbar navbar-expand-lg navbar-dark sticky-top pt-lg-4" id="navbar-main">
	<div class="container p-0">
		<!-- Brand -->
    <a class="navbar-brand" [routerLink]="['/home']">
      <img class="img-fluid d-none d-sm-inline" src="assets/img/brand/Group 134.svg" alt=" " />
      <img class="img-fluid d-inline d-sm-none" width="70px" height="70px" src="assets/img/brand/Beta_Logo.webp" alt=" " />
    </a>

		<!-- Step 3: Toggle the value of the property when the toggler button is clicked. -->
		<!-- <button class="navbar-toggler" type="button" (click)="isMenuCollapsed = !isMenuCollapsed">&#9776;</button> -->

		<!-- Step 2: Add the ngbCollapse directive to the element below. -->
		<div class="collapse navbar-collapse">
			<ul class="navbar-nav mr-auto pl-md-4 pl-lg-0 ml-auto">
        <li class="nav-item">
          <a routerLinkActive="active" [routerLink]="['/home']" class="nav-link mt-2" (click)="isMenuCollapsed = true"
            >Home</a
          >
        </li>
        <li class="nav-item">
          <a routerLinkActive="active" [routerLink]="['/store']" class="nav-link mt-2" (click)="isMenuCollapsed = true"
            >Store</a
          >
        </li>
        <li class="nav-item">
          <a
            routerLinkActive="active"
            [routerLink]="['/streams']"
            class="nav-link mt-2"
            (click)="isMenuCollapsed = true"
            >Streams</a
          >
        </li>
        <li class="d-none d-lg-inline ml-3">
          <form
            class="navbar-search form-inline d-none d-md-flex mt-md-3 mt-lg-0 ml-lg-auto position-relative"
          >
            <div
              class="form-group mb-0"
              [ngClass]="{ focused: (isFocused | async) === true }"
            >
              <div class="input-group input-group-alternative border-0">
                <input
                  #search
                  class="form-control font18 font500 width200"
                  placeholder="Search"
                  type="text"
                  [formControl]="query"
                  (focus)="onFocus()"
                  (blur)="onBlur()"
                  (click)="isMenuCollapsed = true"
                />
                <div class="input-group-prepend">
                  <a class="input-group-text"><i class="fas fa-search text-white"></i></a>
                </div>
              </div>
            </div>
            <ul
              *ngIf="results.length || uResults.length"
              class="position-absolute w-100 card list-group border-0"
              style="top: calc(100% + 8px)"
            >
              <li
                *ngFor="let game of results"
                class="list-group-item bg-dark d-flex border-0 searchListing"
                [routerLink]="['/view/' + (game | glink)]"
                [queryParams]="keywordQuery"
                style="cursor: pointer"
                (click)="isMenuCollapsed = true"
              >
                <img
                  [src]="game.textBgImage"
                  class="mr-3"
                  width="80"
                  height="50"
                  alt=""
                />
                <div>
                  <p class="list-group-heading text-white m-0">{{ game.title }}</p>
                  <p class="list-group-content text-white-50 small m-0">
                    {{ game.releaseDate.getFullYear() }}
                  </p>
                </div>
              </li>
              <li *ngIf="results.length === 5" class="text-center bg-dark p-3" (click)="isMenuCollapsed = true">
                <button
                  class="btn btn-block mutedBg text-white border-0"
                  (click)="searchNavigate('games')"
                >
                  See more games
                </button>
              </li>
              <li
                *ngFor="let user of uResults"
                class="list-group-item bg-dark d-flex border-0 searchListing" (click)="isMenuCollapsed = true"
              >
                <img
                  [src]="user.photo || (user.name | avatar)"
                  class="mr-3 rounded-circle"
                  width="80"
                  height="50"
                  alt=""
                />
                <div class="flex-grow-1">
                  <p class="list-group-heading text-white m-0">{{ user.name }}</p>
                  <p class="list-group-content text-white-50 small m-0">
                    {{ user.username }}
                  </p>
                </div>
                <button
                  type="button"
                  class="btn btn-sm btn-outline-light"
                  (click)="addFriend(user)"
                >
                  <i class="fas {{ getFriendAddIcon(user) }}"></i>
                </button>
              </li>
              <li *ngIf="uResults.length === 5" class="text-center bg-dark p-3">
                <button
                  class="btn btn-block mutedBg text-white border-0"
                  (click)="searchNavigate('users')"
                >
                  See more users
                </button>
              </li>
            </ul>
          </form>
        </li>
			</ul>
      <!-- User -->
      <!-- <ul class="navbar-nav pl-md-4 pl-lg-0 mt-md-3 mt-lg-0 d-none d-lg-inline">
        <li class="nav-item">
          <div class="row">
            <div class="col-auto align-self-center p-1">
              <a class="nav-link" (click)="toggleFriendsList()">
                <span class="avatar avatar-sm rounded-circle bg-gray-dark">
                  <i class="fas fa-user-friends"></i>
                </span>
              </a>
            </div>
            <div class="col-auto align-self-center p-1">
              <a class="nav-link" [routerLink]="gameLink" ngbTooltip="{{ gamePlayTooltip }}">
                <img src="assets/img/Dashboard/Speedtest.svg" class="img-fluid" alt=""  aria-hidden="true" 
                  [ngClass]="{
                    'text-success': isGameRunning,
                    'text-muted': !isGameRunning
                  }"
                />
                <span *ngIf="isUserLive" id="live">LIVE</span>
              </a>
            </div>
            <div class="col-auto align-self-center p-1">
              <a class="nav-link" href="https://www.oneplay.in/speed-test/run">
                <img src="assets/img/Dashboard/Speedtest (1).svg" class="img-fluid" alt="" />
              </a>
            </div>
            <div class="col-auto align-self-center p-1" ngbDropdown placement="bottom-rigth">
              <a class="nav-link mt-2" role="button" ngbDropdownToggle>
                <button class="btn text-white p-0">
                  <i class="fas fa-bell font20 mr-0"></i> <span class="badge badge-danger ml-0 notificationBadge text-white pl-2 pr-2">9+</span>
                </button>
              </a>
              <div class="dropdown-menu-arrow menudropdown dropdown-menu-right" ngbDropdownMenu>
                <div class="dropdown-header noti-title">
                  <h6 class="text-overflow m-0 text-white">Notifications</h6>
                </div>
                <div class="dropdown-divider borderColor"></div>
                <a
                  *ngFor="let notification of notifications"
                  class="dropdown-item"
                  [routerLink]="['/view/' + (notification.game | glink)]"
                >
                  <div class="notification-content"></div>
                </a>
              </div>
            </div>
            <div class="col-auto align-self-center p-1" ngbDropdown placement="bottom-right">
              <a class="nav-link pr-0" role="button" ngbDropdownToggle>
                <span class="avatar avatar-sm rounded-circle">
                  <img alt="Image placeholder" [src]="title | avatar" />
                </span>
              </a>
              <div class="dropdown-menu-arrow menudropdown dropdown-menu-right" ngbDropdownMenu>
                <div class="dropdown-header noti-title">
                  <h6 class="text-overflow m-0 text-white">{{ title }}</h6>
                </div>
                <a
                  routerLinkActive="active"
                  [routerLink]="['wishlist']"
                  class="dropdown-item"
                >
                  <i class="ni ni-favourite-28"></i>
                  <span>Wishlist</span>
                </a>
                <a
                  href="https://www.oneplay.in/subscription.html"
                  class="dropdown-item"
                >
                  <i class="ni ni-credit-card"></i>
                  <span>Subscription</span>
                </a>
                <a
                  href="javascript:void(0)"
                  class="dropdown-item"
                  (click)="open(share)"
                >
                  <i class="fa fa-link" aria-hidden="true"></i>
                  <span>Referral Link</span>
                </a>
                <a href="https://www.oneplay.in/speed-test/run" class="dropdown-item">
                  <i class="fas fa-tachometer-alt"></i>
                  <span>Speed Test</span>
                </a>
                
                <div class="dropdown-divider borderColor"></div>
                <a href="https://www.oneplay.in/download.html" class="dropdown-item">
                  <i class="ni ni-cloud-download-95"></i>
                  <span>Downloads</span>
                </a>
                <a
                  routerLinkActive="active"
                  [routerLink]="['settings']"
                  class="dropdown-item"
                >
                  <i class="ni ni-settings"></i>
                  <span>Settings</span>
                </a>
                <div class="dropdown-divider borderColor"></div>
                <a href="javascript:void(0)" class="dropdown-item" (click)="logout()">
                  <i class="ni ni-button-power"></i>
                  <span>Logout</span>
                </a>
              </div>
            </div>
          </div>
        </li>
      </ul> -->
		</div>
    <!-- User -->
    <ul class="navbar-nav pl-md-4 pl-lg-0 mt-md-3 mt-lg-0">
      <li class="nav-item">
        <div class="row">
          <div class="col-auto align-self-center p-1 d-none d-lg-inline">
            <a class="nav-link" (click)="toggleFriendsList()">
              <span class="avatar avatar-sm rounded-circle bg-gray-dark">
                <i class="fas fa-user-friends"></i>
              </span>
            </a>
          </div>
          <div class="col-auto align-self-center p-1 d-none d-lg-inline">
            <a class="nav-link" [routerLink]="gameLink" ngbTooltip="{{ gamePlayTooltip }}">
              <img src="assets/img/Dashboard/Speedtest.svg" class="img-fluid" alt=""  aria-hidden="true" 
                [ngClass]="{
                  'text-success': isGameRunning,
                  'text-muted': !isGameRunning
                }"
              />
              <span *ngIf="isUserLive" id="live">LIVE</span>
            </a>
          </div>
          <!-- <div class="col-auto align-self-center p-1 d-none d-lg-inline">
            <a class="nav-link" href="https://www.oneplay.in/speed-test/run">
              <img src="assets/img/Dashboard/Speedtest (1).svg" class="img-fluid" alt="" />
            </a>
          </div> -->
          <!-- notifications dropdown -->
          <div class="col-auto align-self-center p-1" ngbDropdown placement="bottom-rigth">
            <a class="nav-link mt-2" role="button" ngbDropdownToggle>
              <button class="btn text-white p-0">
                <i class="fas fa-bell font20 mr-0"></i> <span class="badge badge-danger ml-0 notificationBadge text-white pl-2 pr-2">9+</span>
              </button>
            </a>
            <div class="dropdown-menu-arrow menudropdown dropdown-menu-right" ngbDropdownMenu>
              <div class="dropdown-header noti-title">
                <h6 class="text-overflow m-0 text-white">Notifications</h6>
              </div>
              <div class="dropdown-divider borderColor"></div>
              <a
                *ngFor="let notification of notifications"
                class="dropdown-item"
                [routerLink]="['/view/' + (notification.game | glink)]"
              >
                <div class="notification-content"></div>
              </a>
            </div>
          </div>
          <div class="col-auto align-self-center p-1 pr-3 pr-lg-1" ngbDropdown placement="bottom-right">
            <a class="nav-link pr-0" role="button" ngbDropdownToggle>
              <span class="avatar avatar-sm rounded-circle">
                <img alt="Image placeholder" [src]="title | avatar" />
              </span>
            </a>
            <div class="dropdown-menu-arrow menudropdown dropdown-menu-right" ngbDropdownMenu>
              <div class="dropdown-header noti-title">
                <h6 class="text-overflow m-0 text-white">{{ title }}</h6>
              </div>
              <a
                routerLinkActive="active"
                [routerLink]="['wishlist']"
                class="dropdown-item"
              >
                <i class="ni ni-favourite-28"></i>
                <span>Wishlist</span>
              </a>
              <a
                href="https://www.oneplay.in/subscription.html"
                class="dropdown-item"
              >
                <i class="ni ni-credit-card"></i>
                <span>Subscription</span>
              </a>
              <a
                href="javascript:void(0)"
                class="dropdown-item"
                (click)="open(share)"
              >
                <i class="fa fa-link" aria-hidden="true"></i>
                <span>Referral Link</span>
              </a>
              <a href="https://www.oneplay.in/speed-test/run" class="dropdown-item">
                <i class="fas fa-tachometer-alt"></i>
                <span>Speed Test</span>
              </a>
              
              <div class="dropdown-divider borderColor"></div>
              <a href="https://www.oneplay.in/download.html" class="dropdown-item">
                <i class="ni ni-cloud-download-95"></i>
                <span>Downloads</span>
              </a>
              <a
                routerLinkActive="active"
                [routerLink]="['settings']"
                class="dropdown-item"
              >
                <i class="ni ni-settings"></i>
                <span>Settings</span>
              </a>
              <div class="dropdown-divider borderColor"></div>
              <a href="javascript:void(0)" class="dropdown-item" (click)="logout()">
                <i class="ni ni-button-power"></i>
                <span>Logout</span>
              </a>
            </div>
          </div>
        </div>
      </li>
    </ul>
	</div>
</nav>


<!-- <nav
  class="navbar navbar-expand-md navbar-dark d-none d-md-flex sticky-top pt-4"
  id="navbar-main"
>
  <div class="container-fluid">
    <a class="navbar-brand" [routerLink]="['/home']">
      <img class="img-fluid" src="assets/img/brand/Group 134.svg" alt=" " />
    </a>

    <ul class="navbar-nav d-none d-md-flex">
      <li class="nav-item pr-3">
        <a routerLinkActive="active" [routerLink]="['/home']" class="nav-link mt-2"
          >Home</a
        >
      </li>
      <li class="nav-item pr-3">
        <a routerLinkActive="active" [routerLink]="['/store']" class="nav-link mt-2"
          >Store</a
        >
      </li>
      <li class="nav-item pr-3">
        <a
          routerLinkActive="active"
          [routerLink]="['/streams']"
          class="nav-link mt-2"
          >Streams</a
        >
      </li>
      <li>
        <form
          class="navbar-search form-inline d-none d-md-flex ml-lg-auto position-relative"
        >
          <div
            class="form-group mb-0"
            [ngClass]="{ focused: (isFocused | async) === true }"
          >
            <div class="input-group input-group-alternative border-0">
              <input
                #search
                class="form-control font18 font500"
                placeholder="Search"
                type="text"
                [formControl]="query"
                (focus)="onFocus()"
                (blur)="onBlur()"
              />
              <div class="input-group-prepend">
                <a class="input-group-text"><i class="fas fa-search text-white"></i></a>
              </div>
            </div>
          </div>
          <ul
            *ngIf="results.length || uResults.length"
            class="position-absolute w-100 card list-group border-0"
            style="top: calc(100% + 8px)"
          >
            <li
              *ngFor="let game of results"
              class="list-group-item bg-dark d-flex border-0 searchListing"
              [routerLink]="['/view/' + (game | glink)]"
              [queryParams]="keywordQuery"
              style="cursor: pointer"
            >
              <img
                [src]="game.textBgImage"
                class="mr-3"
                width="80"
                height="50"
                alt=""
              />
              <div>
                <p class="list-group-heading text-white m-0">{{ game.title }}</p>
                <p class="list-group-content text-white-50 small m-0">
                  {{ game.releaseDate.getFullYear() }}
                </p>
              </div>
            </li>
            <li *ngIf="results.length === 5" class="text-center bg-dark p-3">
              <button
                class="btn btn-block mutedBg text-white border-0"
                (click)="searchNavigate('games')"
              >
                See more games
              </button>
            </li>
            <li
              *ngFor="let user of uResults"
              class="list-group-item bg-dark d-flex border-0 searchListing"
            >
              <img
                [src]="user.photo || (user.name | avatar)"
                class="mr-3 rounded-circle"
                width="80"
                height="50"
                alt=""
              />
              <div class="flex-grow-1">
                <p class="list-group-heading text-white m-0">{{ user.name }}</p>
                <p class="list-group-content text-white-50 small m-0">
                  {{ user.username }}
                </p>
              </div>
              <button
                type="button"
                class="btn btn-sm btn-outline-light"
                (click)="addFriend(user)"
              >
                <i class="fas {{ getFriendAddIcon(user) }}"></i>
              </button>
            </li>
            <li *ngIf="uResults.length === 5" class="text-center bg-dark p-3">
              <button
                class="btn btn-block mutedBg text-white border-0"
                (click)="searchNavigate('users')"
              >
                See more users
              </button>
            </li>
          </ul>
        </form>
      </li>
    </ul>

    <ul class="navbar-nav align-items-center d-none d-md-flex">
      <li class="nav-item">
        <a class="nav-link" (click)="toggleFriendsList()">
          <span class="avatar avatar-sm rounded-circle bg-gray-dark">
            <i class="fas fa-user-friends"></i>
          </span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" [routerLink]="gameLink" ngbTooltip="{{ gamePlayTooltip }}">
          <img src="assets/img/Dashboard/Speedtest.svg" class="img-fluid" alt=""  aria-hidden="true" 
            [ngClass]="{
              'text-success': isGameRunning,
              'text-muted': !isGameRunning
            }"
          />
          <span *ngIf="isUserLive" id="live">LIVE</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.oneplay.in/speed-test/run">
          <img src="assets/img/Dashboard/Speedtest (1).svg" class="img-fluid" alt="" />
        </a>
      </li>
      <li class="nav-item" ngbDropdown placement="bottom-rigth">
        <a class="nav-link mt-2" role="button" ngbDropdownToggle>
          <button class="btn text-white p-0">
            <i class="fas fa-bell font20 mr-0"></i> <span class="badge badge-danger ml-0 notificationBadge text-white pl-2 pr-2">9+</span>
          </button>
        </a>
        <div class="dropdown-menu-arrow menudropdown dropdown-menu-right" ngbDropdownMenu>
          <div class="dropdown-header noti-title">
            <h6 class="text-overflow m-0 text-white">Notifications</h6>
          </div>
          <div class="dropdown-divider borderColor"></div>
          <a
            *ngFor="let notification of notifications"
            class="dropdown-item"
            [routerLink]="['/view/' + (notification.game | glink)]"
          >
            <div class="notification-content"></div>
          </a>
        </div>
      </li>
      <li class="nav-item" ngbDropdown placement="bottom-right">
        <a class="nav-link pr-0" role="button" ngbDropdownToggle>
          <span class="avatar avatar-sm rounded-circle">
            <img alt="Image placeholder" [src]="title | avatar" />
          </span>
        </a>
        <div class="dropdown-menu-arrow menudropdown dropdown-menu-right" ngbDropdownMenu>
          <div class="dropdown-header noti-title">
            <h6 class="text-overflow m-0 text-white">{{ title }}</h6>
          </div>
          <a
            routerLinkActive="active"
            [routerLink]="['wishlist']"
            class="dropdown-item"
          >
            <i class="ni ni-favourite-28"></i>
            <span>Wishlist</span>
          </a>
          <a
            href="https://www.oneplay.in/subscription.html"
            class="dropdown-item"
          >
            <i class="ni ni-credit-card"></i>
            <span>Subscription</span>
          </a>
          <a
            href="javascript:void(0)"
            class="dropdown-item"
            (click)="open(share)"
          >
            <i class="fa fa-link" aria-hidden="true"></i>
            <span>Referral Link</span>
          </a>
          <a href="https://www.oneplay.in/speed-test/run" class="dropdown-item">
            <i class="fas fa-tachometer-alt"></i>
            <span>Speed Test</span>
          </a>
          
          <div class="dropdown-divider borderColor"></div>
          <a href="https://www.oneplay.in/download.html" class="dropdown-item">
            <i class="ni ni-cloud-download-95"></i>
            <span>Downloads</span>
          </a>
          <a
            routerLinkActive="active"
            [routerLink]="['settings']"
            class="dropdown-item"
          >
            <i class="ni ni-settings"></i>
            <span>Settings</span>
          </a>
          <div class="dropdown-divider borderColor"></div>
          <a href="javascript:void(0)" class="dropdown-item" (click)="logout()">
            <i class="ni ni-button-power"></i>
            <span>Logout</span>
          </a>
        </div>
      </li>
    </ul>
  </div>
</nav> -->

<ng-template #share let-d="dismiss">
  <div class="modal-content position-relative">
    <div
      class="position-absolute btn btn-github rounded-circle top--5 right--6"
      style="padding: 16px 20px"
      (click)="d('Cross click')"
    >
      <i class="fas fa-times" style="font-size: 24px"></i>
    </div>
    <div class="modal-body">
      <div class="row">
        <div class="col-12">
          <h2 class="text-dark mb-4">Share/Copy Referral Link</h2>
        </div>
      </div>
      <share-buttons
        [url]="link"
        [include]="[
          'facebook',
          'twitter',
          'linkedin',
          'telegram',
          'messenger',
          'whatsapp',
          'email',
          'copy'
        ]"
        theme="material-dark"
        show="11"
      ></share-buttons>
    </div>
  </div>
</ng-template>
